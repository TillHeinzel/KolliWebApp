(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4883:function(e,r,t){Promise.resolve().then(t.bind(t,6386))},4847:function(e,r){"use strict";r.gr=void 0,r.gr=function e(...r){if(!Array.isArray(r))throw TypeError("Please, send an array.");let[t,l,...n]=r,s=function(e,r){let t=[];for(let l=0;l<e.length;l++){if(!r){t.push([e[l]]);continue}for(let n=0;n<r.length;n++)Array.isArray(e[l])?t.push([...e[l],r[n]]):t.push([e[l],r[n]])}return t}(t,l);return n.length?e(s,...n):s}},6386:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var l=t(7437);function n(e,r){return e.map((t,l)=>[e[l],r[l]])}function s(e){return e.reduce((e,r)=>e+r,0)}var a=t(4847),o=t(2265);function i(e){let{nrOfCollis:r,products:t}=e,n=t.reduce((e,r)=>{let{inColli:t}=r;return e+t},0),s=t.reduce((e,r)=>{let{sold:t}=r;return e+t},0),a=t.reduce((e,r)=>{let{unsold:t}=r;return e+t},0);return(0,l.jsxs)("div",{className:"min-w-40 rounded-md border border-gray-300 ",children:["colli ",n,", ",r," collis total (",s," products total,"," ",a," remaining)",(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2 p-2",children:[(0,l.jsx)("div",{className:"font-bold",children:"Name"}),(0,l.jsx)("div",{className:"font-bold",children:"In Colli"}),(0,l.jsx)("div",{className:"font-bold",children:"Sold"}),(0,l.jsx)("div",{className:"font-bold",children:"Unsold"}),t.map(e=>(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("div",{children:e.name}),(0,l.jsx)("div",{children:e.inColli}),(0,l.jsx)("div",{children:e.sold}),(0,l.jsx)("div",{children:e.unsold})]},e.name)),(0,l.jsx)("div",{className:"font-bold",children:"Total"}),(0,l.jsx)("div",{children:n}),(0,l.jsx)("div",{children:s}),(0,l.jsx)("div",{children:a})]}),(0,l.jsx)(c,{textToCopy:"colli ".concat(n,", ").concat(r," collis, ").concat(s," total. ").concat(t.reduce((e,r)=>{let{name:t,inColli:l}=r;return e+"".concat(l,"x ").concat(t,", ")},""))})]})}function c(e){let{textToCopy:r}=e,t=async()=>{try{await navigator.clipboard.writeText(r),console.log("Text copied to clipboard")}catch(e){console.error("Failed to copy text: ",e)}};return(0,l.jsx)("button",{onClick:t,className:"rounded-md bg-blue-500 p-2 text-white",children:"Copy to clipboard"})}function d(e){let{productsAvailable:r,kolliRange:t,nrOfResults:o}=e;if(!r.every(e=>{let[r,t]=e;return t>=0}))return(0,l.jsx)("div",{children:"Missing Products"});try{var c,d,u,m;return(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:(c=r.map(e=>{let[r,t]=e;return t}),d=t[0],u=t[1],m=o,Array.from({length:u-d+1},(e,r)=>d+r).flatMap(e=>(function(e,r){if(0===r.length)throw Error("weights must not be empty");if(0===e)throw Error("colli must be greater than 0");if(!Number.isInteger(e))throw Error("colli must be an integer");if(e<r.length)throw Error("colli must be larger than the number of products");let t=r.map(e=>e/s(r)).map(r=>e*r).map(e=>Number.isInteger(e)?[e]:[Math.floor(e),Math.ceil(e)]);return(0,a.gr)(...t).filter(r=>s(r)===e)})(e,c)).map(e=>{let r=function(e,r){if(e.length!==r.length)throw Error("must have same number of products");return Math.min(...n(e,r).map(e=>{let[r,t]=e;return 0===t?Number.MAX_SAFE_INTEGER:Math.floor(r/t)}))}(c,e);return{colliDistribution:e,nrOfCollis:r,unsoldProducts:n(c,e).reduce((e,t)=>{let[l,n]=t;return e+Math.max(0,l-n*r)},0)}}).toSorted((e,r)=>e.unsoldProducts-r.unsoldProducts).slice(0,m)).map((e,t)=>{let{nrOfCollis:s,colliDistribution:a}=e,o=r.map(e=>{let[r,t]=e;return{name:r,total:t}}),c=n(a,o).map(e=>{let[r,{name:t,total:l}]=e,n=r*s;return{name:t,inColli:r,sold:n,unsold:l-n}});return(0,l.jsx)(i,{nrOfCollis:s,products:c},t)})})}catch(e){return(0,l.jsx)("div",{children:e.message})}}function u(){let[e,r]=o.useState(0),[t,n]=o.useState(0),[s,a]=o.useState([]),[i,c]=o.useState(1);return(0,l.jsxs)("div",{className:"flex flex-col rounded-lg bg-blue-100 p-6 shadow-md",children:[(0,l.jsxs)("label",{className:"mb-4",children:["Colli range:",(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsx)(h,{value:t,setValue:n}),(0,l.jsx)(h,{value:e,setValue:r})]})]}),(0,l.jsxs)("label",{className:"mb-4",children:["Nr of products:",(0,l.jsx)("input",{type:"number",value:s.length,onChange:e=>{let r=parseInt(e.target.value);r>s.length?a(e=>[...e,...Array.from({length:r-e.length},()=>["",0])]):r<s.length&&a(e=>e.slice(0,r))},className:"rounded-md border border-gray-300 p-2"})]}),(0,l.jsx)("div",{className:"gap-2 rounded-md bg-gray-400 p-4",children:s.map((e,r)=>{let[t,n]=e;return(0,l.jsx)(m,{index:r,str:t,productsAvailable:s,setProductsAvailable:a,num:n},r)})}),(0,l.jsxs)("label",{className:"mb-4",children:["Nr of results:",(0,l.jsx)("div",{className:"flex space-x-2",children:(0,l.jsx)(h,{value:i,setValue:c})})]}),(0,l.jsx)("div",{className:"mt-4 rounded-md bg-white p-4 shadow-md",children:(0,l.jsx)(d,{productsAvailable:s,kolliRange:[t,e],nrOfResults:i})})]})}function m(e){let{index:r,str:t,num:n,productsAvailable:s,setProductsAvailable:a}=e;return(0,l.jsxs)("div",{className:"flex flex-row items-center gap-2 rounded-md bg-white p-2 shadow-sm",children:[(0,l.jsx)(h,{value:n,setValue:e=>{let t=[...s];t[r][1]=e,a(t)}}),"x",(0,l.jsx)("input",{type:"text",value:t,onChange:e=>{let t=[...s];t[r][0]=e.target.value,a(t)},className:"flex-grow rounded-md border border-gray-300 p-2"})]})}function h(e){let{value:r,setValue:t}=e;return(0,l.jsx)("input",{type:"number",value:r,onChange:e=>{let r=parseInt(e.target.value);!Number.isNaN(r)&&Number.isInteger(r)&&r>=0&&t(r)},className:"w-20 rounded-md border border-gray-300 p-2"})}function x(){return(0,l.jsx)("main",{className:"min-w-screen min-h-screen p-24",children:(0,l.jsx)(u,{})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=4883)}),_N_E=e.O()}]);